<!DOCTYPE html>
<html>
<head>
    <title>My Bookings</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

{% include "navbar.html" %}

<div class="container mt-5">
    <h2 class="text-center mb-4">üìú My Bookings</h2>

    {% if bookings %}

        {% for item in bookings %}
        <div class="card mb-4 shadow-sm">
            <div class="card-header bg-dark text-white">
                Booking ID: {{ item.booking.id }} |
                Destination: {{ item.booking.destination }} |
                Status: {{ item.booking.status }}
            </div>

            <div class="card-body">

                <!-- HOTEL -->
                {% if item.hotel %}
                <h5>üè® Hotel Details</h5>
                <p><strong>Hotel:</strong> {{ item.hotel.hotel_name }}</p>
                <p><strong>Check-In:</strong> {{ item.hotel.check_in }}</p>
                <p><strong>Check-Out:</strong> {{ item.hotel.check_out }}</p>
                <p><strong>Hotel Price:</strong> ‚Çπ {{ item.hotel.price }}</p>
                <hr>
                {% endif %}

                <!-- TRANSPORT -->
                {% for t in item.transports %}
                <h5>üöç Transport</h5>
                <p><strong>Type:</strong> {{ t.transport.transport_type }}</p>
                <p><strong>From:</strong> {{ t.transport.source }}</p>
                <p><strong>To:</strong> {{ t.transport.destination }}</p>
                <p><strong>Persons:</strong> {{ t.transport.persons }}</p>
                <p><strong>Transport Price:</strong> ‚Çπ {{ t.transport.price }}</p>

                {% if t.spots %}
                <p><strong>Selected Hype Spots:</strong></p>
                <ul>
                    {% for s in t.spots %}
                        <li>Spot ID: {{ s.spot_id }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
                <hr>
                {% endfor %}

                <!-- CAB -->
                {% if item.cab %}
                <h5>üöñ Cab Details</h5>
                <p><strong>Total KM:</strong> {{ item.cab.total_km }}</p>
                <p><strong>Cab Price:</strong> ‚Çπ {{ item.cab.price }}</p>
                {% endif %}

            </div>
        </div>
        {% endfor %}

    {% else %}
        <p class="text-center fs-5">No bookings yet üòï</p>
    {% endif %}

</div>

</body>
</html>
